# Some SSL commands

## Settings some env to simplify commands


```bash
KEYTOOL=$ORACLE_FMW/Oracle_BI1/jdk/bin/keytool
JKS_PATH=$(cd $ORACLE_WL_PATH/../lib && pwd)
SECURITY_PATH=$(cd $ORACLE_WL_PATH/../../../Oracle_BI1/jdk/jre/lib/security && pwd)
NODE_PATH=$(cd $ORACLE_WL_PATH/../../common/nodemanager && pwd)
JKS_NAME=${ORACLE_SID}.jks
CSR_NAME=${ORACLE_SID}.csr
JKS_PASS=${ORACLE_SID}
TRUST_NAME=Trust_${JKS_NAME}
ALIAS=`echo ${ORACLE_SID} | tr [A-Z] [a-z]`.mpl.michelin.com
```

## Printing current certificates in keystore

```bash
$KEYTOOL -list -keystore $JKS_PATH/$JKS_NAME -storepass $JKS_PASS
Keystore type: jks
Keystore provider: IBMJCE

Your keystore contains 3 entries

michelin_pki_subca6, Jan 30, 2017, trustedCertEntry,
Certificate fingerprint (SHA1): EE:A7:E7:56:E8:71:E4:A5:A6:2A:D2:D9:9B:33:17:AA:F9:7E:B6:F9
michelin_pki_ca, Jan 30, 2017, trustedCertEntry,
Certificate fingerprint (SHA1): B4:C2:C5:17:91:3D:2F:32:10:AB:2D:5A:99:5A:08:5C:10:4F:3E:2B
mplaix0147.mpl.michelin.com, Aug 17, 2018, keyEntry,
Certificate fingerprint (SHA1): 7F:FD:15:EC:2B:F0:C8:FE:C9:D5:B8:37:C3:23:49:B6:AA:59:FF:C4
```

A key entry is a private key generated by the genkey command

###Adding -v to make it verbose
$KEYTOOL -list -v -keystore $JKS_PATH/$JKS_NAME -storepass $JKS_PASS



$KEYTOOL -certreq -alias $ALIAS -keysize 2048 -keystore $JKS_PATH/$JKS_NAME -file $JKS_PATH/$CSR_NAME -storepass $JKS_PASS


$KEYTOOL -import -trustcacerts -alias mplaix0147.mpl.michelin.com  -file certif4/mplaix0147_mpl_michelin_com.pem -keystore $JKS_PATH/$JKS_NAME -storepass $JKS_PASS

Certificate reply was installed in keystore
